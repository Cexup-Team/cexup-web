import{_ as j,d as J,x as L,A,B as z,r as E,a as K,b as q,s as F,o as G,e as d,f as u,g as c,w as C,h as W,i as l,j as p,L as x,t as P,F as H,D as Q,k as X,J as R,l as Y,q as Z,y as $,m as ee,G as te}from"./entry-53aace6f.mjs";import{_ as re}from"./Checkbox-85d48d6d.mjs";import{_ as se}from"./Text-be6ee63f.mjs";import{_ as ae}from"./BottomSheet-c213e1f0.mjs";import{_ as ie}from"./Button-7638a4ec.mjs";import{g as w}from"./getMapValue-1774036f.mjs";const le=J({props:{list:{type:Array},title:{type:String},select:{type:String}},setup(U,{expose:a}){a();const N=U,r=X();let g=L(!1);const e=A({country:"Indonesia",country_id:"1",province_id:"",province:"",regency_id:"",regency:"",district_id:"",district:"",village_id:"",village:"",postal_code:"",rt:"",rw:"",address:"",same:!1,selection:[],item:null,selectActive:"",searchIcon:["province","regency","district","village"],mapProvince:new Map,listProvince:[],mapRegency:new Map,listRegency:[],mapDistrict:new Map,listDistrict:[],mapVillage:new Map,mapPostal:new Map,listVillage:[],isLoading:!1,isData:null,isStatus:"idle",isErrorMessage:{province:"",regency:"",district:"",village:""}}),m=new Map,V=z(),o=E(),v=K(),f=q(),b=A({slcValue:""}),s=t=>{e.item=m.get(t),e.selectActive=t,g.value=!0},k=t=>{g.value=t},M=t=>{e.selectActive==="province"?e.province=t:e.selectActive==="regency"?e.regency=t:e.selectActive==="district"?e.district=t:e.selectActive==="village"&&(e.village=t),g.value=!1},y=(t,i)=>{V.getRegion(t).then(_=>{i==="province"?_.data.map((n,h)=>{e.mapProvince.set(n.kode,n.name),e.listProvince.push(n.name)}):i==="regency"?_.data.map((n,h)=>{e.mapRegency.set(n.kode,n.name),e.listRegency.push(n.name)}):i==="district"?_.data.map((n,h)=>{e.mapDistrict.set(n.kode,n.name),e.listDistrict.push(n.name)}):i==="village"&&_.data.map((n,h)=>{e.mapVillage.set(n.kode,n.name),e.mapPostal.set(n.name,n.postal_code),e.listVillage.push(n.name)})}).catch()};F(()=>[e.province,e.regency,e.district,e.village],async([t,i,_,n],[h,O,B,T])=>{e.same||(t!==""&&t!==h?(e.regency="",e.regency_id="",e.district="",e.district_id="",e.village="",e.village_id="",e.postal_code="",e.listRegency=[],e.mapRegency=new Map,e.province_id=await w(e.mapProvince,t),await y(e.province_id,"regency"),m.set("regency",e.listRegency)):i!==""&&i!==O?(e.district="",e.district_id="",e.village="",e.village_id="",e.postal_code="",e.listDistrict=[],e.mapDistrict=new Map,e.regency_id=await w(e.mapRegency,i),await y(e.regency_id,"district"),m.set("district",e.listDistrict)):_!==""&&_!==B?(e.village="",e.village_id="",e.postal_code="",e.listVillage=[],e.mapVillage=new Map,e.district_id=await w(e.mapDistrict,_),await y(e.district_id,"village"),m.set("village",e.listVillage)):n!==""&&n!==T&&(e.village_id=await w(e.mapVillage,n),e.postal_code=e.mapPostal.get(e.village)))});const D=["province","regency","district","village"];G(()=>{y("","province"),m.set("identity",["KTP","KITAS","PASSPORT"]),m.set("gender",["Male","Female"]),m.set("province",e.listProvince)});const I=()=>{const t=JSON.parse(R(r.getItem("cexup-profile")));if(t.current_province=e.province,t.current_province_id=e.province_id,t.current_regency=e.regency,t.current_regency_id=e.regency_id,t.current_district=e.district,t.current_district_id=e.district_id,t.current_village=e.village,t.current_village_id=e.village_id,t.current_postal_code=e.postal_code,t.current_address=e.address,t.current_rt=e.rt,t.current_rw=e.rw,!t.name||!t.gender||!t.phone||!t.place_of_birth||!t.date_of_birth||!t.home_address||!t.identity_type||!t.identity_number||!t.province||!t.province_id||!t.regency||!t.regency_id||!t.district||!t.district_id||!t.village||!t.village_id||!t.postal_code||!t.rt||!t.rw||!t.current_province||!t.current_province_id||!t.current_regency||!t.current_regency_id||!t.current_district||!t.current_district_id||!t.current_village||!t.current_village_id||!t.current_postal_code||!t.current_address||!t.current_rt||!t.current_rw)return v.show({type:"danger",message:"Please enter all field",timeout:4});const i={name:t.name,gender:t.gender==="Male"?"laki-laki":"perempuan",phone_number:t.phone,place_of_birth:t.place_of_birth,date_of_birth:t.date_of_birth,home_address:t.home_address,rt:t.rt,rw:t.rw,country_id:1,country_name:"Indonesia",provinces_id:t.province_id,provinces_name:t.province,regencies_cities_id:t.regency_id,regencies_cities_name:t.regency,districts_id:t.district_id,districts_name:t.district,villages_id:t.village_id,villages_name:t.village,postal_code:t.postal_code,same_as_home_address:e.same,current_address:t.current_address,current_rt:t.current_rt,current_rw:t.current_rw,current_country_id:1,current_country_name:"Indonesia",current_provinces_id:t.current_province_id,current_provinces_name:t.current_province,current_regencies_cities_id:t.current_regency_id,current_regencies_cities_name:t.current_regency,current_districts_id:t.current_district_id,current_districts_name:t.current_district,current_villages_id:t.current_village_id,current_villages_name:t.current_village,current_postal_code:t.current_postal_code,no_type:t.identity_number,type:t.identity_type};o.updatePatient(i).then(_=>{f.push("/")}).catch(_=>{v.show({type:"danger",message:_.message,timeout:4})})};F(()=>e.same,async t=>{if(t){const i=JSON.parse(R(r.getItem("cexup-profile")));e.province=i.province,e.province_id=i.province_id,e.regency=i.regency,e.regency_id=i.regency_id,e.district=i.district,e.district_id=i.district_id,e.village=i.village,e.village_id=i.village_id,e.postal_code=i.postal_code,e.rt=i.rt,e.rw=i.rw,e.address=i.home_address}else e.province="",e.province_id="",e.regency="",e.regency_id="",e.district="",e.district_id="",e.village="",e.village_id="",e.postal_code="",e.rt="",e.rw="",e.address=""});const S={session:r,openModal:g,state:e,listMap:m,region:V,user:o,$toast:v,router:f,props:N,complete:b,slcValue:s,changeOpen:k,selectOption:M,getRegion:y,searchIcon:D,next:I};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),ne={class:"mt-9 p-4"},oe=l("img",{src:Y,alt:"",class:"w-2 h-4"},null,-1),ce=l("h2",{class:"text-lg text-primary-color font-bold mt-9 w-full text-center font-poppins"},"Current Address ",-1),de={class:"mt-4"},_e={class:"inputForm mt-6"},me={key:0,class:"inputForm mt-7"},pe={class:"inputForm mt-6"},ue={key:1,class:"inputForm mt-7"},ge={class:"inputForm mt-6"},ve={key:2,class:"inputForm mt-7"},ye={class:"inputForm mt-6"},he={key:3,class:"inputForm mt-7"},Ve={class:"inputForm mt-6"},fe={class:"inputForm mt-6"},xe={class:"inputForm mt-6"},we={class:"inputForm mt-6"},be={class:"inputForm mt-6"},ke={class:""},Ce={class:"text-sm font-semibold font-poppins leading-5 w-full mb-6"},Ue={key:0,class:"relative h-16 max-h-16 min-h-max mb-5"},Ne=l("input",{class:"search_input outline-none border border-gray-150 w-full bg-none p-4 font-poppins text-sm absolute top-0 left-0",placeholder:"Search",type:"text"},null,-1),Me=l("img",{src:ee,class:"absolute w-5 h-5 right-3 top-0 transform translate-y-3",alt:""},null,-1),Se=[Ne,Me],Ae={class:"w-full h-full overflow-y-scroll mt-6 no-scrollbar"},Fe=["onClick"],Pe={key:0,src:te,class:"m-1",alt:""},Re=l("div",{class:"mt-56"},null,-1),De={class:"bottom-box floating-next fixed bottom-0 right-0 w-full bg-white pt-5 px-6 pb-10 z-10"},Ie=l("p",{class:"w-full text-center text-primary-color mt-5"},"Skip",-1);function Oe(U,a,N,r,g,e){const m=Z,V=re,o=se,v=ae,f=ie,b=W;return d(),u("div",null,[c(b,{name:"auth"},{default:C(()=>[l("div",ne,[c(m,{to:"/auth/register/rsui/complete_second"},{default:C(()=>[oe]),_:1}),ce,l("div",de,[c(V,{modelValue:r.state.same,"onUpdate:modelValue":a[0]||(a[0]=s=>r.state.same=s),title:"Same with original address"},null,8,["modelValue"])]),l("div",_e,[c(o,{className:"rounded-md",modelValue:r.state.country,"onUpdate:modelValue":a[1]||(a[1]=s=>r.state.country=s),type:"text",placeholder:"Country",read:""},null,8,["modelValue"])]),r.state.same?p("",!0):(d(),u("div",me,[c(o,{className:"rounded-md",type:"text",placeholder:"Current Province",modelValue:r.state.province,"onUpdate:modelValue":a[2]||(a[2]=s=>r.state.province=s),src:"~/assets/images/arrow_down.svg",icon:!0,select:"province",slc:"","onUpdate:slcValue":r.slcValue},null,8,["modelValue"])])),l("div",pe,[r.state.same?(d(),x(o,{key:0,className:"rounded-md",modelValue:r.state.province,"onUpdate:modelValue":a[3]||(a[3]=s=>r.state.province=s),type:"text",placeholder:"Current Province",read:""},null,8,["modelValue"])):p("",!0)]),r.state.same?p("",!0):(d(),u("div",ue,[c(o,{className:"rounded-md",type:"text",placeholder:"Current Regency",modelValue:r.state.regency,"onUpdate:modelValue":a[4]||(a[4]=s=>r.state.regency=s),src:"~/assets/images/arrow_down.svg",icon:!0,select:"regency",slc:"","onUpdate:slcValue":r.slcValue},null,8,["modelValue"])])),l("div",ge,[r.state.same?(d(),x(o,{key:0,className:"rounded-md",modelValue:r.state.regency,"onUpdate:modelValue":a[5]||(a[5]=s=>r.state.regency=s),type:"text",placeholder:"Current Regency",read:""},null,8,["modelValue"])):p("",!0)]),r.state.same?p("",!0):(d(),u("div",ve,[c(o,{className:"rounded-md",type:"text",placeholder:"Current District",modelValue:r.state.district,"onUpdate:modelValue":a[6]||(a[6]=s=>r.state.district=s),src:"~/assets/images/arrow_down.svg",icon:!0,select:"district",slc:"","onUpdate:slcValue":r.slcValue},null,8,["modelValue"])])),l("div",ye,[r.state.same?(d(),x(o,{key:0,className:"rounded-md",modelValue:r.state.district,"onUpdate:modelValue":a[7]||(a[7]=s=>r.state.district=s),type:"text",placeholder:"Current District",read:""},null,8,["modelValue"])):p("",!0)]),r.state.same?p("",!0):(d(),u("div",he,[c(o,{className:"rounded-md",type:"text",placeholder:"Current Village",modelValue:r.state.village,"onUpdate:modelValue":a[8]||(a[8]=s=>r.state.village=s),src:"~/assets/images/arrow_down.svg",icon:!0,select:"village",slc:"","onUpdate:slcValue":r.slcValue},null,8,["modelValue"])])),l("div",Ve,[r.state.same?(d(),x(o,{key:0,className:"rounded-md",modelValue:r.state.village,"onUpdate:modelValue":a[9]||(a[9]=s=>r.state.village=s),type:"text",placeholder:"Current Village",read:""},null,8,["modelValue"])):p("",!0)]),l("div",fe,[c(o,{className:"rounded-md",modelValue:r.state.postal_code,"onUpdate:modelValue":a[10]||(a[10]=s=>r.state.postal_code=s),type:"number",placeholder:"Current Postal Code",read:""},null,8,["modelValue"])]),l("div",xe,[c(o,{className:"rounded-md",modelValue:r.state.rt,"onUpdate:modelValue":a[11]||(a[11]=s=>r.state.rt=s),type:"number",placeholder:"Current RT",read:r.state.same},null,8,["modelValue","read"])]),l("div",we,[c(o,{className:"rounded-md",modelValue:r.state.rw,"onUpdate:modelValue":a[12]||(a[12]=s=>r.state.rw=s),type:"number",placeholder:"Current RW",read:r.state.same},null,8,["modelValue","read"])]),l("div",be,[c(o,{className:"rounded-md",modelValue:r.state.address,"onUpdate:modelValue":a[13]||(a[13]=s=>r.state.address=s),type:"text",placeholder:"Current Address",read:r.state.same},null,8,["modelValue","read"])]),c(v,{openModal:r.openModal,"onUpdate:changeOpen":r.changeOpen,type:"blank"},{bottomSheet:C(()=>[l("div",ke,[l("h3",Ce,P(r.state.selectActive.charAt(0).toUpperCase()+r.state.selectActive.slice(1)),1),r.state.searchIcon.indexOf(r.state.selectActive)>-1?(d(),u("div",Ue,Se)):p("",!0),l("ul",Ae,[(d(!0),u(H,null,Q(r.state.item,(s,k)=>(d(),u("li",{class:"w-full border-b border-solid border-gray-175 pb-2 flex justify-between items-center mb-4",onClick:M=>r.selectOption(s),key:k},[l("p",{class:$("text-base leading-6 font-poppins "+(r.state[`${r.state.selectActive}`]===s?"text-primary-color":"text-gray-350"))},P(s),3),r.state[`${r.state.selectActive}`]===s?(d(),u("img",Pe)):p("",!0)],8,Fe))),128))])])]),_:1},8,["openModal"]),Re]),l("div",De,[c(f,{className:"w-full text-center bg-primary-color text-white font-poppins py-3 rounded-lg font-medium text-base",title:"Next",onClick:r.next}),Ie])]),_:1})])}var Ee=j(le,[["render",Oe]]);export{Ee as default};
