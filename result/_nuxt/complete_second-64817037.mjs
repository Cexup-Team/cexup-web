import{_ as T,d as I,x as B,A as k,B as J,r as j,a as E,b as K,s as z,o as L,J as N,e as v,f as y,g as n,w,k as q,h as G,i as o,t as U,j as P,F as W,D as H,K as Q,l as X,q as Y,y as Z,m as $,G as ee}from"./entry-53aace6f.mjs";import{_ as te}from"./Text-be6ee63f.mjs";import{_ as se}from"./BottomSheet-c213e1f0.mjs";import{_ as le}from"./Button-7638a4ec.mjs";import{g as f}from"./getMapValue-1774036f.mjs";const ie=I({props:{list:{type:Array},title:{type:String},select:{type:String}},setup(b,{expose:a}){a();const S=b,s=q();let _=B(!1);const e=k({country:"Indonesia",country_id:"1",province_id:"",province:"",regency_id:"",regency:"",district_id:"",district:"",village_id:"",village:"",postal_code:"",rt:"",rw:"",selection:[],item:null,selectActive:"",searchIcon:["province","regency","district","village"],mapProvince:new Map,listProvince:[],mapRegency:new Map,listRegency:[],mapDistrict:new Map,listDistrict:[],mapVillage:new Map,mapPostal:new Map,listVillage:[],isLoading:!1,isData:null,isStatus:"idle",isErrorMessage:{province:"",regency:"",district:"",village:""}}),c=new Map,r=J(),x=j(),h=E(),m=K(),l=k({slcValue:""}),V=t=>{e.item=c.get(t),e.selectActive=t,_.value=!0},M=t=>{_.value=t},R=t=>{e.selectActive==="province"?e.province=t:e.selectActive==="regency"?e.regency=t:e.selectActive==="district"?e.district=t:e.selectActive==="village"&&(e.village=t),_.value=!1},u=(t,d)=>{r.getRegion(t).then(p=>{d==="province"?p.data.map((i,g)=>{e.mapProvince.set(i.kode,i.name),e.listProvince.push(i.name)}):d==="regency"?p.data.map((i,g)=>{e.mapRegency.set(i.kode,i.name),e.listRegency.push(i.name)}):d==="district"?p.data.map((i,g)=>{e.mapDistrict.set(i.kode,i.name),e.listDistrict.push(i.name)}):d==="village"&&p.data.map((i,g)=>{e.mapVillage.set(i.kode,i.name),e.mapPostal.set(i.name,i.postal_code),e.listVillage.push(i.name)})}).catch()};z(()=>[e.province,e.regency,e.district,e.village],async([t,d,p,i],[g,D,F,C])=>{t!==""&&t!==g?(e.regency="",e.regency_id="",e.district="",e.district_id="",e.village="",e.village_id="",e.postal_code="",e.listRegency=[],e.mapRegency=new Map,e.province_id=await f(e.mapProvince,t),await u(e.province_id,"regency"),c.set("regency",e.listRegency)):d!==""&&d!==D?(e.district="",e.district_id="",e.village="",e.village_id="",e.postal_code="",e.listDistrict=[],e.mapDistrict=new Map,e.regency_id=await f(e.mapRegency,d),await u(e.regency_id,"district"),c.set("district",e.listDistrict)):p!==""&&p!==F?(e.village="",e.village_id="",e.postal_code="",e.listVillage=[],e.mapVillage=new Map,e.district_id=await f(e.mapDistrict,p),await u(e.district_id,"village"),c.set("village",e.listVillage)):i!==""&&i!==C&&(e.village_id=await f(e.mapVillage,i),e.postal_code=e.mapPostal.get(e.village))});const O=["province","regency","district","village"];L(()=>{try{const t=JSON.parse(N(s.getItem("cexup-profile")));(t.province_id||t.regency_id||t.district_id||t.village_id)&&(e.province_id=t.province_id,e.regency_id=t.regency_id,e.district_id=t.district_id,e.village_id=t.village_id,setTimeout(()=>{e.province=t.province},500),setTimeout(()=>{e.regency=t.regency},1e3),setTimeout(()=>{e.district=t.district},1500),setTimeout(()=>{e.village=t.village},2e3),e.postal_code=t.postal_code,e.rt=t.rt,e.rw=t.rw),u("","province"),c.set("identity",["KTP","KITAS","PASSPORT"]),c.set("gender",["Male","Female"]),c.set("province",e.listProvince)}catch{m.push("/auth")}});const A={session:s,openModal:_,state:e,listMap:c,region:r,user:x,$toast:h,router:m,props:S,complete:l,slcValue:V,changeOpen:M,selectOption:R,getRegion:u,searchIcon:O,next:()=>{try{if(!e.province_id||!e.regency_id||!e.district_id||!e.village_id||!e.rt||!e.rw)return h.show({type:"danger",message:"Please enter all field",timeout:4});const t=JSON.parse(N(s.getItem("cexup-profile")));t.province=e.province,t.province_id=e.province_id,t.regency=e.regency,t.regency_id=e.regency_id,t.district=e.district,t.district_id=e.district_id,t.village=e.village,t.village_id=e.village_id,t.postal_code=e.postal_code,t.rt=e.rt,t.rw=e.rw,s.setItem("cexup-profile",Q(JSON.stringify(t))),m.push("/auth/register/rsui/complete_third")}catch{m.push("/auth")}}};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),oe={class:"mt-9 p-4"},ae=o("img",{src:X,alt:"",class:"w-2 h-4"},null,-1),ne=o("h2",{class:"text-lg text-primary-color font-bold mt-9 w-full text-center font-poppins"},"Orginal Address ",-1),re={class:"inputForm mt-7"},ce={class:"inputForm mt-7"},de={class:"inputForm mt-7"},pe={class:"inputForm mt-7"},me={class:"inputForm mt-7"},_e={class:"inputForm mt-6"},ue={class:"inputForm mt-6"},ge={class:"inputForm mt-6"},ve={class:""},ye={class:"text-sm font-semibold font-poppins leading-5 w-full mb-6"},he={key:0,class:"relative h-16 max-h-16 min-h-max mb-5"},fe=o("input",{class:"search_input outline-none border border-gray-150 w-full bg-none p-4 font-poppins text-sm absolute top-0 left-0",placeholder:"Search",type:"text"},null,-1),xe=o("img",{src:$,class:"absolute w-5 h-5 right-3 top-0 transform translate-y-3",alt:""},null,-1),Ve=[fe,xe],we={class:"w-full h-full overflow-y-scroll mt-6 no-scrollbar"},be=["onClick"],Se={key:0,src:ee,class:"m-1",alt:""},Me=o("div",{class:"mt-56"},null,-1),Ae={class:"bottom-box floating-next fixed bottom-0 right-0 w-full bg-white pt-5 px-6 pb-10 z-10"},ke=o("p",{class:"w-full text-center text-primary-color mt-5"},"Skip",-1);function Ne(b,a,S,s,_,e){const c=Y,r=te,x=se,h=le,m=G;return v(),y("div",null,[n(m,{name:"auth"},{default:w(()=>[o("div",oe,[n(c,{to:"/auth/register/rsui/complete_first"},{default:w(()=>[ae]),_:1}),ne,o("div",re,[n(r,{className:"rounded-md",type:"text",placeholder:"Country",modelValue:s.state.country,"onUpdate:modelValue":a[0]||(a[0]=l=>s.state.country=l),src:"~/assets/images/arrow_down.svg",icon:!0,select:"",slc:"","onUpdate:slcValue":s.slcValue},null,8,["modelValue"])]),o("div",ce,[n(r,{className:"rounded-md",type:"text",placeholder:"Province",modelValue:s.state.province,"onUpdate:modelValue":a[1]||(a[1]=l=>s.state.province=l),src:"~/assets/images/arrow_down.svg",icon:!0,select:"province",slc:"","onUpdate:slcValue":s.slcValue},null,8,["modelValue"])]),o("div",de,[n(r,{className:"rounded-md",type:"text",placeholder:"Regency",modelValue:s.state.regency,"onUpdate:modelValue":a[2]||(a[2]=l=>s.state.regency=l),src:"~/assets/images/arrow_down.svg",icon:!0,select:"regency",slc:"","onUpdate:slcValue":s.slcValue},null,8,["modelValue"])]),o("div",pe,[n(r,{className:"rounded-md",type:"text",placeholder:"District",modelValue:s.state.district,"onUpdate:modelValue":a[3]||(a[3]=l=>s.state.district=l),src:"~/assets/images/arrow_down.svg",icon:!0,select:"district",slc:"","onUpdate:slcValue":s.slcValue},null,8,["modelValue"])]),o("div",me,[n(r,{className:"rounded-md",type:"text",placeholder:"Village",modelValue:s.state.village,"onUpdate:modelValue":a[4]||(a[4]=l=>s.state.village=l),src:"~/assets/images/arrow_down.svg",icon:!0,select:"village",slc:"","onUpdate:slcValue":s.slcValue},null,8,["modelValue"])]),o("div",_e,[n(r,{className:"rounded-md",modelValue:s.state.postal_code,"onUpdate:modelValue":a[5]||(a[5]=l=>s.state.postal_code=l),type:"number",placeholder:"Postal Code"},null,8,["modelValue"])]),o("div",ue,[n(r,{className:"rounded-md",modelValue:s.state.rt,"onUpdate:modelValue":a[6]||(a[6]=l=>s.state.rt=l),type:"number",placeholder:"RT"},null,8,["modelValue"])]),o("div",ge,[n(r,{className:"rounded-md",modelValue:s.state.rw,"onUpdate:modelValue":a[7]||(a[7]=l=>s.state.rw=l),type:"number",placeholder:"RW"},null,8,["modelValue"])]),n(x,{openModal:s.openModal,"onUpdate:changeOpen":s.changeOpen,type:"blank"},{bottomSheet:w(()=>[o("div",ve,[o("h3",ye,U(s.state.selectActive.charAt(0).toUpperCase()+s.state.selectActive.slice(1)),1),s.state.searchIcon.indexOf(s.state.selectActive)>-1?(v(),y("div",he,Ve)):P("",!0),o("ul",we,[(v(!0),y(W,null,H(s.state.item,(l,V)=>(v(),y("li",{class:"w-full border-b border-solid border-gray-175 pb-2 flex justify-between items-center mb-4",onClick:M=>s.selectOption(l),key:V},[o("p",{class:Z("text-base leading-6 font-poppins "+(s.state[`${s.state.selectActive}`]===l?"text-primary-color":"text-gray-350"))},U(l),3),s.state[`${s.state.selectActive}`]===l?(v(),y("img",Se)):P("",!0)],8,be))),128))])])]),_:1},8,["openModal"]),Me]),o("div",Ae,[n(h,{className:"w-full text-center bg-primary-color text-white font-poppins py-3 rounded-lg font-medium text-base",title:"Next",onClick:s.next}),ke])]),_:1})])}var Ce=T(ie,[["render",Ne]]);export{Ce as default};
