import{_ as E}from"./Text-be6ee63f.mjs";import{_ as J}from"./BottomSheet-c213e1f0.mjs";import{_ as T}from"./Button-7638a4ec.mjs";import{_ as j,d as z,x as K,A as U,B as R,r as G,a as L,b as H,o as Y,J as v,s as q,e as c,f as m,g as i,w as F,k as Q,C as W,h as X,i as n,t as V,j as w,F as Z,D as $,K as I,y as ee,m as te,G as se}from"./entry-53aace6f.mjs";const oe=z({props:{list:{type:Array},title:{type:String},select:{type:String}},setup(N,{expose:a}){a();const S=N,t=Q();let _=K(!1);const e=U({name:"",place_of_birth:"",home_address:"",phone:"",gender:"",identity_number:"",identity:"",address:"",selection:[],item:null,date:null,selectActive:"",searchIcon:["province","regency","district","village"],isLoading:!1,isData:null,isStatus:"idle",isErrorMessage:{name:"",gender:"",phone:"",place_of_birth:"",date_of_birth:"",home_address:"",identity_type:"",identity_number:""}}),r=new Map,f=R(),b=G(),p=L(),o=H(),x=U({slcValue:""}),M=s=>{e.item=r.get(s),e.selectActive=s,_.value=!0},D=s=>{_.value=s},C=s=>{e.selectActive==="gender"?e.gender=s:e.selectActive==="identity"&&(e.identity=s),_.value=!1},P=["province","regency","district","village"];Y(()=>{var s,y,u,g,h,l;try{const A=JSON.parse(v(t.getItem("cexup-user")));e.name=A.name;const O=t.getItem("cexup-profile");if(O){const d=JSON.parse(v(O));e.gender=(s=d.gender)!=null?s:"",e.phone=(y=d.phone)!=null?y:"",e.place_of_birth=(u=d.place_of_birth)!=null?u:"",e.date=(g=d.date_of_birth)!=null?g:"",e.home_address=(h=d.home_address)!=null?h:"",e.identity=d.identity_type,e.identity_number=(l=d.identity_number)!=null?l:""}r.set("identity",["KTP","KITAS","PASSPORT"]),r.set("gender",["Male","Female"])}catch{o.push("/auth")}});const B=()=>{try{const s=new Date(e.date),y=(s==null?void 0:s.getMonth())+1<10?`0${(s==null?void 0:s.getMonth())+1}`:(s==null?void 0:s.getMonth())+1,u=e.date?`${s==null?void 0:s.getFullYear()}-${y}-${(s==null?void 0:s.getDate())+1<10?`0${(s==null?void 0:s.getDate())+1}`:(s==null?void 0:s.getDate())+1}`:"",g={name:e.name,gender:e.gender,phone:e.phone,place_of_birth:e.place_of_birth,date_of_birth:u,home_address:e.home_address,identity_type:e.identity,identity_number:e.identity_number};if(!e.name||!e.gender||!e.phone||!e.place_of_birth||!e.date||!e.home_address||!e.identity||!e.identity_number)return p.show({type:"danger",message:"Please enter all field",timeout:4});if(e.identity_number.length!==16)return p.show({type:"danger",message:"Please check again",timeout:4});const h=t.getItem("cexup-profile");if(!h)t.setItem("cexup-profile",I(JSON.stringify(g)));else{const l=JSON.parse(v(h));l.name=e.name,l.gender=e.gender,l.phone=e.phone,l.place_of_birth=e.place_of_birth,l.date_of_birth=u,l.home_address=e.home_address,l.identity_type=e.identity,l.identity_number=e.identity_number,t.setItem("cexup-profile",I(JSON.stringify(l)))}o.push("/auth/register/rsui/complete_second")}catch(s){console.log(s)}};q(()=>e.identity_number,s=>{s.length===16?e.isErrorMessage.identity_number="":e.isErrorMessage.identity_number="Identity must be 16 char"});const k={session:t,openModal:_,state:e,listMap:r,region:f,user:b,$toast:p,router:o,props:S,complete:x,slcValue:M,changeOpen:D,selectOption:C,searchIcon:P,next:B,Datepicker:W};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),ne={class:"mt-9 p-4"},ae=n("h2",{class:"text-lg text-primary-color font-bold mt-9 w-full text-center font-poppins"},"Complete Profile ",-1),re={class:"inputForm mt-6"},le={class:"inputForm mt-7"},ie={class:"inputForm mt-6"},de={class:"inputForm mt-6"},ce={class:"inputForm mt-7"},me={class:"inputForm mt-6"},_e={class:"inputForm mt-7"},pe={class:"inputForm mt-6"},ue={key:0,class:"text-red-550 font-poppins",style:{"font-size":"10px","margin-top":"2px"}},he={class:""},ye={class:"text-sm font-semibold font-poppins leading-5 w-full mb-6"},ge={key:0,class:"relative h-16 max-h-16 min-h-max mb-5"},fe=n("input",{class:"search_input outline-none border border-gray-150 w-full bg-none p-4 font-poppins text-sm absolute top-0 left-0",placeholder:"Search",type:"text"},null,-1),be=n("img",{src:te,class:"absolute w-5 h-5 right-3 top-0 transform translate-y-3",alt:""},null,-1),xe=[fe,be],ve={class:"w-full h-full overflow-y-scroll mt-6 no-scrollbar"},Ve=["onClick"],we={key:0,src:se,class:"m-1",alt:""},Ne=n("div",{class:"mt-56"},null,-1),Se={class:"bottom-box floating-next fixed bottom-0 right-0 w-full bg-white pt-5 px-6 pb-10 z-10"},Me=n("p",{class:"w-full text-center text-primary-color mt-5"},"Skip",-1);function ke(N,a,S,t,_,e){const r=E,f=J,b=T,p=X;return c(),m("div",null,[i(p,{name:"auth"},{default:F(()=>[n("div",ne,[ae,n("div",re,[i(r,{className:"rounded-md",modelValue:t.state.name,"onUpdate:modelValue":a[0]||(a[0]=o=>t.state.name=o),type:"text",placeholder:"Full Name",read:""},null,8,["modelValue"])]),n("div",le,[i(r,{className:"rounded-md",type:"text",placeholder:"Gender",modelValue:t.state.gender,"onUpdate:modelValue":a[1]||(a[1]=o=>t.state.gender=o),src:"~/assets/images/arrow_down.svg",icon:!0,select:"gender",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),n("div",ie,[i(r,{className:"rounded-md",modelValue:t.state.phone,"onUpdate:modelValue":a[2]||(a[2]=o=>t.state.phone=o),type:"number",placeholder:"Phone Number"},null,8,["modelValue"])]),n("div",de,[i(r,{className:"rounded-md",modelValue:t.state.place_of_birth,"onUpdate:modelValue":a[3]||(a[3]=o=>t.state.place_of_birth=o),type:"text",placeholder:"Place Of Birth"},null,8,["modelValue"])]),n("div",ce,[i(t.Datepicker,{"input-class-name":"h-14",modelValue:t.state.date,"onUpdate:modelValue":a[4]||(a[4]=o=>t.state.date=o),"enable-time-picker":!1,placeholder:"Date of Birth"},null,8,["modelValue"])]),n("div",me,[i(r,{className:"rounded-md",modelValue:t.state.home_address,"onUpdate:modelValue":a[5]||(a[5]=o=>t.state.home_address=o),type:"text",placeholder:"Home Address"},null,8,["modelValue"])]),n("div",_e,[i(r,{className:"rounded-md",type:"text",placeholder:"Identity Type",modelValue:t.state.identity,"onUpdate:modelValue":a[6]||(a[6]=o=>t.state.identity=o),src:"~/assets/images/arrow_down.svg",icon:!0,select:"identity",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),n("div",pe,[i(r,{className:"rounded-md "+(t.state.isErrorMessage.identity_number?" border-red-550":" border-gray-150"),modelValue:t.state.identity_number,"onUpdate:modelValue":a[7]||(a[7]=o=>t.state.identity_number=o),type:"number",placeholder:"Identity Number"},null,8,["className","modelValue"]),t.state.isErrorMessage.identity_number?(c(),m("h3",ue,V(t.state.isErrorMessage.identity_number),1)):w("",!0)]),i(f,{openModal:t.openModal,"onUpdate:changeOpen":t.changeOpen,type:"blank"},{bottomSheet:F(()=>[n("div",he,[n("h3",ye,V(t.state.selectActive.charAt(0).toUpperCase()+t.state.selectActive.slice(1)),1),t.state.searchIcon.indexOf(t.state.selectActive)>-1?(c(),m("div",ge,xe)):w("",!0),n("ul",ve,[(c(!0),m(Z,null,$(t.state.item,(o,x)=>(c(),m("li",{class:"w-full border-b border-solid border-gray-175 pb-2 flex justify-between items-center mb-4",onClick:M=>t.selectOption(o),key:x},[n("p",{class:ee("text-base leading-6 font-poppins "+(t.state[`${t.state.selectActive}`]===o?"text-primary-color":"text-gray-350"))},V(o),3),t.state[`${t.state.selectActive}`]===o?(c(),m("img",we)):w("",!0)],8,Ve))),128))])])]),_:1},8,["openModal"]),Ne]),n("div",Se,[i(b,{className:"w-full text-center bg-primary-color text-white font-poppins py-3 rounded-lg font-medium text-base",title:"Next",onClick:t.next}),Me])]),_:1})])}var Ie=j(oe,[["render",ke]]);export{Ie as default};
