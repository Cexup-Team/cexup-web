import{_ as C}from"./Text-be6ee63f.mjs";import{_ as O}from"./BottomSheet-c213e1f0.mjs";import{_ as B}from"./Button-7638a4ec.mjs";import{_ as I,d as T,x as L,A as S,B as j,r as z,a as E,b as K,s as G,o as Y,e as _,f as u,g as n,w as D,C as q,h as H,i as o,t as N,j as R,F as J,D as Q,y as W}from"./entry-53aace6f.mjs";import{g as b}from"./getMapValue-1774036f.mjs";const X=T({props:{list:{type:Array},title:{type:String},select:{type:String}},setup(A,{expose:l}){l();const M=A;let t=L(!1);const e=S({phone:"",gender:"",identity:"",address:"",province_id:"",province:"",regency_id:"",regency:"",district_id:"",district:"",village_id:"",village:"",selection:[],item:null,date:null,selectActive:"",searchIcon:["province","regency","district","village"],mapProvince:new Map,listProvince:[],mapRegency:new Map,listRegency:[],mapDistrict:new Map,listDistrict:[],mapVillage:new Map,listVillage:[],isLoading:!1,isData:null,isStatus:"idle",isErrorMessage:{phone:"",date_of_birth:"",gender:"",identity:"",province:"",regency:"",district:"",village:""}}),m=new Map,c=j(),v=z(),y=E(),h=K(),s=S({slcValue:""}),w=i=>{e.item=m.get(i),e.selectActive=i,t.value=!0},U=i=>{t.value=i},F=i=>{e.selectActive==="gender"?e.gender=i:e.selectActive==="identity"?e.identity=i:e.selectActive==="province"?e.province=i:e.selectActive==="regency"?e.regency=i:e.selectActive==="district"?e.district=i:e.selectActive==="village"&&(e.village=i),t.value=!1},g=(i,r)=>{c.getRegion(i).then(d=>{r==="province"?d.data.map((a,p)=>{e.mapProvince.set(a.kode,a.name),e.listProvince.push(a.name)}):r==="regency"?d.data.map((a,p)=>{e.mapRegency.set(a.kode,a.name),e.listRegency.push(a.name)}):r==="district"?d.data.map((a,p)=>{e.mapDistrict.set(a.kode,a.name),e.listDistrict.push(a.name)}):r==="village"&&d.data.map((a,p)=>{e.mapVillage.set(a.kode,a.name),e.listVillage.push(a.name)})}).catch()};G(()=>[e.province,e.regency,e.district,e.village],async([i,r,d,a],[p,f,V,x])=>{i!==""&&i!==p?(e.regency="",e.regency_id="",e.district="",e.district_id="",e.village="",e.village_id="",e.listRegency=[],e.mapRegency=new Map,e.province_id=await b(e.mapProvince,i),await g(e.province_id,"regency"),m.set("regency",e.listRegency)):r!==""&&r!==f?(e.district="",e.district_id="",e.village="",e.village_id="",e.listDistrict=[],e.mapDistrict=new Map,e.regency_id=await b(e.mapRegency,r),await g(e.regency_id,"district"),m.set("district",e.listDistrict)):d!==""&&d!==V?(e.village="",e.village_id="",e.listVillage=[],e.mapVillage=new Map,e.district_id=await b(e.mapDistrict,d),await g(e.district_id,"village"),m.set("village",e.listVillage)):a!==""&&a!==x&&(e.village_id=await b(e.mapVillage,a))});const P=["province","regency","district","village"];Y(()=>{g("","province"),m.set("identity",["KTP","KITAS","PASSPORT"]),m.set("gender",["Male","Female"]),m.set("province",e.listProvince)});const k={openModal:t,state:e,listMap:m,region:c,user:v,$toast:y,router:h,props:M,complete:s,slcValue:w,changeOpen:U,selectOption:F,getRegion:g,searchIcon:P,next:()=>{var d,a,p,f,V;const i=((d=e.date)==null?void 0:d.getMonth())+1<10?`0${((a=e.date)==null?void 0:a.getMonth())+1}`:((p=e.date)==null?void 0:p.getMonth())+1,r=e.date?`${(f=e.date)==null?void 0:f.getFullYear()}-${i}-${(V=e.date)==null?void 0:V.getDate()}`:"";v.updatePatient(e.phone,e.gender,r,e.address,e.identity,e.province_id,e.regency_id,e.district_id,e.village_id).then(x=>{h.push("/")}).catch(x=>{y.show({type:"danger",message:x.message,timeout:4})})},Datepicker:q};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),Z={class:"mt-9 p-4"},$=o("h2",{class:"text-lg text-primary-color font-bold mt-9 w-full text-center font-poppins"},"Complete Profile",-1),ee={class:"inputForm mt-6"},te={class:"inputForm mt-7"},se={class:"inputForm mt-7"},ae={class:"inputForm mt-7"},le={class:"inputForm mt-6"},oe={class:"inputForm mt-7"},ie={class:"inputForm mt-7"},ne={class:"inputForm mt-7"},ce={class:"inputForm mt-7"},de={class:""},re={class:"text-sm font-semibold font-poppins leading-5 w-full mb-6"},me={key:0,class:"relative h-16 max-h-16 min-h-max mb-5"},pe=o("input",{class:"search_input outline-none border border-gray-150 w-full bg-none p-4 font-poppins text-sm absolute top-0 left-0",placeholder:"Search",type:"text"},null,-1),ge=o("img",{src:"${__publicAssetsURL()}assets/images/search_icon.svg",class:"absolute w-5 h-5 right-3 top-0 transform translate-y-3",alt:""},null,-1),_e=[pe,ge],ue={class:"w-full h-full overflow-y-scroll mt-6 no-scrollbar"},ve=["onClick"],ye={key:0,src:"${__publicAssetsURL()}assets/images/check_with_bg.svg",class:"m-1",alt:""},he=o("div",{class:"mt-56"},null,-1),fe={class:"bottom-box floating-next fixed bottom-0 right-0 w-full bg-white pt-5 px-6 pb-10 z-10"},Ve=o("p",{class:"w-full text-center text-primary-color mt-5"},"Skip",-1);function xe(A,l,M,t,e,m){const c=C,v=O,y=B,h=H;return _(),u("div",null,[n(h,{name:"auth"},{default:D(()=>[o("div",Z,[$,o("div",ee,[n(c,{className:"rounded-md",modelValue:t.state.phone,"onUpdate:modelValue":l[0]||(l[0]=s=>t.state.phone=s),type:"number",placeholder:"Phone Number"},null,8,["modelValue"])]),o("div",te,[n(t.Datepicker,{"input-class-name":"h-14",modelValue:t.state.date,"onUpdate:modelValue":l[1]||(l[1]=s=>t.state.date=s),"enable-time-picker":!1,placeholder:"Date of Birth"},null,8,["modelValue"])]),o("div",se,[n(c,{className:"rounded-md",type:"text",placeholder:"Gender",modelValue:t.state.gender,"onUpdate:modelValue":l[2]||(l[2]=s=>t.state.gender=s),src:"../../assets/images/arrow_down.svg",icon:!0,select:"gender",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),o("div",ae,[n(c,{className:"rounded-md",type:"text",placeholder:"Identity",modelValue:t.state.identity,"onUpdate:modelValue":l[3]||(l[3]=s=>t.state.identity=s),src:"../../assets/images/arrow_down.svg",icon:!0,select:"identity",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),o("div",le,[n(c,{className:"rounded-md",modelValue:t.state.address,"onUpdate:modelValue":l[4]||(l[4]=s=>t.state.address=s),type:"text",placeholder:"Address"},null,8,["modelValue"])]),o("div",oe,[n(c,{className:"rounded-md",type:"text",placeholder:"Province",modelValue:t.state.province,"onUpdate:modelValue":l[5]||(l[5]=s=>t.state.province=s),src:"../../assets/images/arrow_down.svg",icon:!0,select:"province",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),o("div",ie,[n(c,{className:"rounded-md",type:"text",placeholder:"Regency",modelValue:t.state.regency,"onUpdate:modelValue":l[6]||(l[6]=s=>t.state.regency=s),src:"../../assets/images/arrow_down.svg",icon:!0,select:"regency",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),o("div",ne,[n(c,{className:"rounded-md",type:"text",placeholder:"District",modelValue:t.state.district,"onUpdate:modelValue":l[7]||(l[7]=s=>t.state.district=s),src:"../../assets/images/arrow_down.svg",icon:!0,select:"district",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),o("div",ce,[n(c,{className:"rounded-md",type:"text",placeholder:"Village",modelValue:t.state.village,"onUpdate:modelValue":l[8]||(l[8]=s=>t.state.village=s),src:"../../assets/images/arrow_down.svg",icon:!0,select:"village",slc:"","onUpdate:slcValue":t.slcValue},null,8,["modelValue"])]),n(v,{openModal:t.openModal,"onUpdate:changeOpen":t.changeOpen,type:"blank"},{bottomSheet:D(()=>[o("div",de,[o("h3",re,N(t.state.selectActive.charAt(0).toUpperCase()+t.state.selectActive.slice(1)),1),t.state.searchIcon.indexOf(t.state.selectActive)>-1?(_(),u("div",me,_e)):R("",!0),o("ul",ue,[(_(!0),u(J,null,Q(t.state.item,(s,w)=>(_(),u("li",{class:"w-full border-b border-solid border-gray-175 pb-2 flex justify-between items-center mb-4",onClick:U=>t.selectOption(s),key:w},[o("p",{class:W("text-base leading-6 font-poppins "+(t.state[`${t.state.selectActive}`]===s?"text-primary-color":"text-gray-350"))},N(s),3),t.state[`${t.state.selectActive}`]===s?(_(),u("img",ye)):R("",!0)],8,ve))),128))])])]),_:1},8,["openModal"]),he]),o("div",fe,[n(y,{className:"w-full text-center bg-primary-color text-white font-poppins py-3 rounded-lg font-medium text-base",title:"Next",onClick:t.next}),Ve])]),_:1})])}var Se=I(X,[["render",xe]]);export{Se as default};
